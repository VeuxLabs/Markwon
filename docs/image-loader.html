<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Images | Markwon</title>
    <meta name="description" content="Android markdown library based on commonmark specification">
    <link rel="icon" href="/Markwon/favicon.png">
    
    <link rel="preload" href="/Markwon/assets/css/0.styles.fac837e0.css" as="style"><link rel="preload" href="/Markwon/assets/js/app.9670b765.js" as="script"><link rel="preload" href="/Markwon/assets/js/17.768e1ff4.js" as="script"><link rel="preload" href="/Markwon/assets/js/3.26bdb5bd.js" as="script"><link rel="prefetch" href="/Markwon/assets/js/10.0fe05b61.js"><link rel="prefetch" href="/Markwon/assets/js/2.0af9011d.js"><link rel="prefetch" href="/Markwon/assets/js/4.eb3679ba.js"><link rel="prefetch" href="/Markwon/assets/js/5.fd7b0f20.js"><link rel="prefetch" href="/Markwon/assets/js/6.8b55839e.js"><link rel="prefetch" href="/Markwon/assets/js/7.c8a39d05.js"><link rel="prefetch" href="/Markwon/assets/js/8.958c38b5.js"><link rel="prefetch" href="/Markwon/assets/js/9.049c97ac.js"><link rel="prefetch" href="/Markwon/assets/js/11.d22ae5b8.js"><link rel="prefetch" href="/Markwon/assets/js/12.d378d5c7.js"><link rel="prefetch" href="/Markwon/assets/js/13.082c3668.js"><link rel="prefetch" href="/Markwon/assets/js/14.09014401.js"><link rel="prefetch" href="/Markwon/assets/js/15.9c9bb40e.js"><link rel="prefetch" href="/Markwon/assets/js/16.814f1b21.js"><link rel="prefetch" href="/Markwon/assets/js/18.54384b21.js"><link rel="prefetch" href="/Markwon/assets/js/19.f9e2e1d0.js"><link rel="prefetch" href="/Markwon/assets/js/20.09dedc36.js"><link rel="prefetch" href="/Markwon/assets/js/21.9a8cbffd.js">
    <link rel="stylesheet" href="/Markwon/assets/css/0.styles.fac837e0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Markwon/" class="home-link router-link-active"><!----> <span class="site-name">Markwon</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Markwon/docs/install.html" class="nav-link">Install</a></div><div class="nav-item"><a href="/Markwon/CHANGELOG.html" class="nav-link">Changelog</a></div><div class="nav-item"><a href="https://github.com/noties/Markwon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Markwon/docs/install.html" class="nav-link">Install</a></div><div class="nav-item"><a href="/Markwon/CHANGELOG.html" class="nav-link">Changelog</a></div><div class="nav-item"><a href="https://github.com/noties/Markwon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Markwon/" class="sidebar-link">Overview</a></li><li><a href="/Markwon/docs/getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/Markwon/docs/configure.html" class="sidebar-link">Configuration</a></li><li><a href="/Markwon/docs/theme.html" class="sidebar-link">Theme</a></li><li><a href="/Markwon/docs/factory.html" class="sidebar-link">Factory</a></li><li><a href="/Markwon/docs/image-loader.html" class="active sidebar-link">Images</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Markwon/docs/image-loader.html#asyncdrawableloader" class="sidebar-link">AsyncDrawableLoader</a></li><li class="sidebar-sub-header"><a href="/Markwon/docs/image-loader.html#configuration" class="sidebar-link">Configuration</a></li></ul></li><li><a href="/Markwon/docs/syntax-highlight.html" class="sidebar-link">Syntax highlight</a></li><li><a href="/Markwon/docs/html.html" class="sidebar-link">HTML</a></li><li><a href="/Markwon/docs/view.html" class="sidebar-link">MarkwonView</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="images"><a href="#images" aria-hidden="true" class="header-anchor">#</a> Images</h1> <p>By default <code>Markwon</code> doesn't handle images. Although <code>AsyncDrawable.Loader</code> is
defined in main artifact, it does not provide implementation.</p> <p>The interface is pretty simple:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Loader</span> <span class="token punctuation">{</span>

    <span class="token keyword">void</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> String destination<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> AsyncDrawable drawable<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> String destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="asyncdrawableloader"><a href="#asyncdrawableloader" aria-hidden="true" class="header-anchor">#</a> AsyncDrawableLoader</h2> <a href="http://search.maven.org/#search|ga|1|g%3A%22ru.noties%22%20AND%20a%3A%22markwon-image-loader%22"><img src="https://img.shields.io/maven-central/v/ru.noties/markwon-image-loader.svg?label=markwon-image-loader" alt="markwon-image-loader"></a> <p><code>AsyncDrawableLoader</code> from <code>markwon-image-loader</code> artifact can be used.</p> <div class="tip custom-block"><p class="custom-block-title">Install</p> <p><a href="/Markwon/docs/install.html#image-loader">Learn how to add</a> <code>markwon-image-loader</code> to your project</p></div> <p>Default instance of <code>AsyncDrawableLoader</code> can be obtain like this:</p> <div class="language-java extra-class"><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="configuration"><a href="#configuration" aria-hidden="true" class="header-anchor">#</a> Configuration</h2> <p>If you wish to configure <code>AsyncDrawableLoader</code> <code>#builder</code> factory method can be used:</p> <div class="language-java extra-class"><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="okhttp-client"><a href="#okhttp-client" aria-hidden="true" class="header-anchor">#</a> OkHttp client</h3> <div class="language-java extra-class"><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">client</span><span class="token punctuation">(</span>OkHttpClient<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If not provided explicitly, default <code>new OkHttpClient()</code> will be used</p> <h3 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources</h3> <p><code>android.content.res.Resources</code> to be used when obtaining an image
from Android assets folder <strong>and</strong> to create Bitmaps.</p> <div class="language-java extra-class"><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">resources</span><span class="token punctuation">(</span>Resources<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If not provided explicitly, default <code>Resources.getSystem()</code> will be used.</p> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p><code>Resources.getSystem()</code> can have unexpected side-effects (plus loading from
assets won't work). As a rule of thumb
always provide <code>AsyncDrawableLoader</code> with your Application's <code>Resources</code>.
To quote Android documentation for <code>#getSystem</code> method:</p> <blockquote><p>Return a global shared Resources object that provides access to only
system resources (no application resources), and is not configured
for the current screen (can not use dimension  units, does not
change based on orientation, etc).</p></blockquote></div> <h3 id="executor-service"><a href="#executor-service" aria-hidden="true" class="header-anchor">#</a> Executor service</h3> <p><code>ExecutorService</code> to be used to download images in background thread</p> <div class="language-java extra-class"><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">executorService</span><span class="token punctuation">(</span>ExecutorService<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If not provided explicitly, default <code>okHttpClient.dispatcher().executorService()</code> will be used</p> <h3 id="error-drawable"><a href="#error-drawable" aria-hidden="true" class="header-anchor">#</a> Error drawable</h3> <p><code>errorDrawable</code> to be used when image loader encountered an error loading image</p> <div class="language-java extra-class"><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">errorDrawable</span><span class="token punctuation">(</span>Drawable<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>if not provided explicitly, default <code>null</code> value will be used.</p> <h3 id="media-decoder"><a href="#media-decoder" aria-hidden="true" class="header-anchor">#</a> Media decoder <span class="badge tip top" data-v-099ab69c>1.1.0</span></h3> <p><code>MediaDecoder</code> is a simple asbtraction that encapsulates handling
of a specific image type.</p> <div class="language-java extra-class"><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">mediaDecoders</span><span class="token punctuation">(</span>MediaDecoder<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">mediaDecoders</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>MediaDecoder<span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If not provided explicitly, default <code>MediaDecoder</code>s will be used (SVG, GIF, plain) with
provided <code>Resources</code> and <code>gif-autoplay=true</code></p> <p><code>markwon-image-loader</code> comes with 3 <code>MediaDecoder</code> implementations:</p> <ul><li><code>SvgMediaDecoder</code> (based on <a href="https://github.com/BigBadaboom/androidsvg" target="_blank" rel="noopener noreferrer">androidsvg<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li> <li><code>GifMediaDecoder</code> (based on <a href="https://github.com/koral--/android-gif-drawable" target="_blank" rel="noopener noreferrer">android-gif-drawable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li> <li><code>ImageMediaDecoder</code> (handling all <em>plain</em> images)</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Always add a <em>generic</em> <code>MediaDecoder</code> instance at the end of the list.
Order does matter. For example:</p> <div class="language-java extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-java"><code>AsyncDrawableLoader<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">mediaDecoders</span><span class="token punctuation">(</span>
                SvgMediaDecoder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Resources<span class="token punctuation">)</span><span class="token punctuation">,</span>
                GifMediaDecoder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">boolean</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                ImageMediaDecoder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Resources<span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <h4 id="svgmediadecoder"><a href="#svgmediadecoder" aria-hidden="true" class="header-anchor">#</a> SvgMediaDecoder</h4> <div class="language-java extra-class"><pre class="language-java"><code>SvgMediaDecoder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Resources<span class="token punctuation">)</span>
</code></pre></div><h4 id="gifmediadecoder"><a href="#gifmediadecoder" aria-hidden="true" class="header-anchor">#</a> GifMediaDecoder</h4> <div class="language-java extra-class"><pre class="language-java"><code>GifMediaDecoder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">boolean</span><span class="token punctuation">)</span>
</code></pre></div><p><code>boolean</code> argument stands for <code>autoPlayGif</code></p> <h4 id="imagemediadecoder"><a href="#imagemediadecoder" aria-hidden="true" class="header-anchor">#</a> ImageMediaDecoder</h4> <div class="language-java extra-class"><pre class="language-java"><code>ImageMediaDecoder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Resources<span class="token punctuation">)</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Markwon/docs/factory.html" class="prev">
          Factory
        </a></span> <span class="next"><a href="/Markwon/docs/syntax-highlight.html">
          Syntax highlight
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/Markwon/assets/js/17.768e1ff4.js" defer></script><script src="/Markwon/assets/js/3.26bdb5bd.js" defer></script><script src="/Markwon/assets/js/app.9670b765.js" defer></script>
  </body>
</html>
